(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"2MiI":function(i,e,t){"use strict";t.d(e,"a",function(){return d});var s=t("OGMK"),n=t("fXoL"),o=t("ofXK"),r=t("TEn/");function c(i,e){if(1&i&&(n.Rb(0,"ion-header",3),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-buttons",4),n.Nb(3,"ion-menu-button"),n.Qb(),n.Rb(4,"ion-title"),n.rc(5),n.Qb(),n.Qb(),n.Qb()),2&i){const i=n.bc();n.hc("translucent",!0),n.Bb(5),n.sc(i.title)}}function a(i,e){if(1&i&&(n.Rb(0,"ion-header",5),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-title",6),n.rc(3),n.Qb(),n.Qb(),n.Qb()),2&i){const i=n.bc();n.Bb(3),n.sc(i.title)}}function h(i,e){1&i&&n.Nb(0,"div",7)}let d=(()=>{class i{constructor(){this.title="",this.isMobile=!0}ngOnInit(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.subscription=s.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=s.a.maxMobileWidth})}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=n.Gb({type:i,selectors:[["app-header"]],inputs:{title:"title",segment:"segment"},decls:3,vars:3,consts:[[3,"translucent",4,"ngIf"],["collapse","condense",4,"ngIf"],["style","width: 100%; height: 65px;",4,"ngIf"],[3,"translucent"],["slot","start"],["collapse","condense"],["size","large"],[2,"width","100%","height","65px"]],template:function(i,e){1&i&&(n.qc(0,c,6,2,"ion-header",0),n.qc(1,a,4,1,"ion-header",1),n.qc(2,h,1,0,"div",2)),2&i&&(n.hc("ngIf",e.isMobile&&"0"==e.segment),n.Bb(1),n.hc("ngIf",e.isMobile&&"1"==e.segment),n.Bb(1),n.hc("ngIf",!e.isMobile&&"0"==e.segment))},directives:[o.k,r.o,r.T,r.f,r.B,r.S],styles:[""]}),i})()},dagM:function(i,e,t){"use strict";t.d(e,"a",function(){return a});var s=t("ofXK"),n=t("3Pt+"),o=t("tyNb"),r=t("TEn/"),c=t("fXoL");let a=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=c.Kb({type:i}),i.\u0275inj=c.Jb({imports:[[r.U,s.b,n.a,o.k]]}),i})()},xFxd:function(i,e,t){"use strict";t.r(e),t.d(e,"PurchasePagePageModule",function(){return J});var s=t("ofXK"),n=t("3Pt+"),o=t("TEn/"),r=t("tyNb"),c=t("mrSG"),a=t("OGMK"),h=t("BTSn"),d=t("fcTE"),l=t("CbRh");class u{}class b{}var v=t("E95c"),p=t("ytin"),g=t("fXoL"),m=t("xHty"),f=t("Gdn9"),w=t("qfBg"),S=t("3LUQ"),y=t("4kQV"),R=t("7sqW"),I=t("OC8m"),Q=t("2MiI");function O(i,e){if(1&i&&(g.Rb(0,"ion-slide"),g.Nb(1,"ion-img",9),g.Qb()),2&i){const i=e.$implicit;g.Bb(1),g.hc("src",i)}}function B(i,e){if(1&i&&g.Nb(0,"img",9),2&i){const i=g.bc(2);g.hc("src",(null==i.product.gallery?null:i.product.gallery.length)>0?i.product.gallery[0]:"assets/sem-foto.png",g.oc)}}function L(i,e){if(1&i&&(g.Rb(0,"ion-slides",6),g.qc(1,O,2,1,"ion-slide",7),g.qc(2,B,1,1,"img",8),g.Qb()),2&i){const i=g.bc();g.hc("options",i.slideOpts),g.Bb(1),g.hc("ngForOf",i.product.gallery),g.Bb(1),g.hc("ngIf",1>(null==i.product.gallery?null:i.product.gallery.length))}}function M(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Produto"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.product.name)}}function A(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Quantidade"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.purchase.item.amount)}}function D(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Valor"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.purchase.item.amount*i.product.price)}}function C(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Status"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.StateToString(i.purchase.state))}}function x(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Efetuada"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.purchase.date.toLocaleString())}}function W(i,e){if(1&i&&(g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Entregada"),g.Qb(),g.Rb(3,"ion-text"),g.rc(4),g.Qb(),g.Qb()),2&i){const i=g.bc();g.Bb(4),g.sc(i.purchase.finishDate.toLocaleString())}}function P(i,e){if(1&i&&(g.Pb(0),g.Rb(1,"ion-select-option",11),g.rc(2),g.Qb(),g.Ob()),2&i){const i=e.$implicit,t=g.bc(2);g.Bb(1),g.hc("value",i.value),g.Bb(1),g.sc(t.StateToString(i.value))}}function j(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-item"),g.Rb(1,"ion-label"),g.rc(2,"Novo status"),g.Qb(),g.Rb(3,"ion-select",10),g.Zb("ngModelChange",function(e){return g.nc(i),g.bc().stateValue=e})("ngModelChange",function(e){return g.nc(i),g.bc().StateChange(e)}),g.qc(4,P,3,2,"ng-container",7),g.Qb(),g.Qb()}if(2&i){const i=g.bc();g.Bb(3),g.hc("ngModel",i.stateValue),g.Bb(1),g.hc("ngForOf",i.states)}}function G(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-item"),g.Rb(1,"ion-segment",16),g.Zb("ionChange",function(e){return g.nc(i),g.bc(2).segmentChanged(e)}),g.Rb(2,"ion-segment-button",17),g.Nb(3,"ion-icon",18),g.Qb(),g.Rb(4,"ion-segment-button",19),g.Nb(5,"ion-icon",20),g.Qb(),g.Qb(),g.Qb()}}function q(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-item"),g.Rb(1,"ion-segment",21),g.Zb("ionChange",function(e){return g.nc(i),g.bc(2).segmentChanged(e)}),g.Rb(2,"ion-segment-button",17),g.Nb(3,"ion-icon",18),g.Qb(),g.Rb(4,"ion-segment-button",19),g.Nb(5,"ion-icon",20),g.Qb(),g.Qb(),g.Qb()}if(2&i){const i=g.bc(2);g.Bb(1),g.ic("value",i.review.recommend)}}function T(i,e){if(1&i){const i=g.Sb();g.Pb(0),g.Rb(1,"ion-item"),g.Rb(2,"ion-label",12),g.rc(3,"Titulo"),g.Qb(),g.Rb(4,"ion-input",13),g.Zb("ngModelChange",function(e){return g.nc(i),g.bc().review.title=e}),g.Qb(),g.Qb(),g.Rb(5,"ion-item"),g.Rb(6,"ion-label",12),g.rc(7,"Texto"),g.Qb(),g.Rb(8,"ion-textarea",14),g.Zb("ngModelChange",function(e){return g.nc(i),g.bc().review.content=e}),g.Qb(),g.Qb(),g.qc(9,G,6,0,"ion-item",5),g.qc(10,q,6,1,"ion-item",5),g.Rb(11,"ion-button",15),g.Zb("click",function(){return g.nc(i),g.bc().SendReview()}),g.rc(12,"Enviar"),g.Qb(),g.Ob()}if(2&i){const i=g.bc();g.Bb(4),g.hc("ngModel",i.review.title),g.Bb(4),g.hc("ngModel",i.review.content),g.Bb(1),g.hc("ngIf",!i.reviewExists),g.Bb(1),g.hc("ngIf",i.reviewExists),g.Bb(1),g.hc("disabled",!i.review.content||!i.review.title||!i.review.recommend)}}function k(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-button",24),g.Zb("click",function(){g.nc(i);const e=g.bc(2);return e.showChangeState=!e.showChangeState,e.scrollToBotton()}),g.rc(1,"Mudar status da venda"),g.Qb()}}function N(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-button",24),g.Zb("click",function(){return g.nc(i),g.bc(2).ShowUserPopover()}),g.rc(1,"Mostrar Informa\xe7\xf5es do Comprador"),g.Qb()}}function E(i,e){if(1&i){const i=g.Sb();g.Rb(0,"ion-button",24),g.Zb("click",function(){g.nc(i);const e=g.bc(2);return e.showReviewDiv=!e.showReviewDiv,e.scrollToBotton()}),g.rc(1),g.Qb()}if(2&i){const i=g.bc(2);g.Bb(1),g.sc(i.reviewExists?"Atualizar avalia\xe7\xe3o":"Avaliar compra")}}function U(i,e){if(1&i&&(g.Rb(0,"div"),g.Rb(1,"ion-button",22),g.rc(2),g.Qb(),g.qc(3,k,2,0,"ion-button",23),g.qc(4,N,2,0,"ion-button",23),g.qc(5,E,2,1,"ion-button",23),g.Qb()),2&i){const i=g.bc();g.Bb(1),g.jc("routerLink","/chat/",i.purchase.id,""),g.Bb(1),g.tc("Conversar com o ",i.isSeller?"comprador":"vendedor",""),g.Bb(1),g.hc("ngIf",i.isSeller),g.Bb(1),g.hc("ngIf",i.isSeller),g.Bb(1),g.hc("ngIf",!i.isSeller&&i.finished)}}const F=function(i){return{webrowser:i}},V=[{path:"",component:(()=>{class i{constructor(i,e,t,s,n,o,r,c,a,u){this.activatedRoute=i,this.purchaseService=e,this.productService=t,this.userService=s,this.alertService=n,this.reviewService=o,this.ratingService=r,this.router=c,this.notificationService=a,this.popoverController=u,this.title="Carregando",this.purchase=new d.b,this.product=new h.a,this.seller=new l.b,this.buyer=new l.b,this.purchaseLoaded=!1,this.productLoaded=!1,this.sellerLoaded=!1,this.buyerLoaded=!1,this.allLoaded=!1,this.showChangeState=!1,this.showReviewDiv=!1,this.states=[],this.review={title:void 0,content:void 0,recommend:void 0},this.slideOpts={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0},this.loading=!0,this.prevReview={title:void 0,content:void 0,recommend:void 0}}StateToString(i){return Object(d.d)(i)}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){yield this.GetRequiredAttributes()})}ionViewWillLeave(){this.title="Carregando",this.purchase=new d.b,this.product=new h.a,this.seller=new l.b,this.purchaseLoaded=!1,this.productLoaded=!1,this.sellerLoaded=!1,this.allLoaded=!1,this.showChangeState=!1,this.showReviewDiv=!1,this.states=[],this.loading=!0,this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription4&&!this.subscription4.closed&&this.subscription4.unsubscribe(),this.subscription5&&!this.subscription5.closed&&this.subscription5.unsubscribe(),this.subscription6&&!this.subscription6.closed&&this.subscription6.unsubscribe(),this.subscription7&&!this.subscription7.closed&&this.subscription7.unsubscribe(),this.subscription8&&!this.subscription8.closed&&this.subscription8.unsubscribe()}GetRequiredAttributes(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.id?(this.SetStates(),this.GetPlataformInfo(),yield this.getUserAndPurchase()):this.SendAway("/")})}SetStates(){for(var i in d.c)isNaN(Number(i))||this.states.push({value:Number(i)})}GetPlataformInfo(){this.subscription1=a.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=a.a.maxMobileWidth,this.setDivWidth(.4*i.appWidth>a.a.maxMobileWidth/1.5?"40%":a.a.maxMobileWidth/1.5+"px")})}setDivWidth(i){document.body.style.setProperty("--maxWidth",i)}getUserAndPurchase(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription2=a.a.GetUserInfo().subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){i?(this.user=i,this.GetPurchase()):this.SendAway("/login")}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}GetPurchase(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription3=(yield this.purchaseService.Get(this.id)).subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){if(!i)return yield this.alertService.presentAlert("Erro","Compra n\xe3o encontrada."),void this.SendAway("/");if(this.purchase=i,this.purchase.id=this.id,this.purchase.date=new Date(i.date),this.purchase.finishDate=i.finishDate?new Date(i.finishDate):void 0,this.purchase.sellerId==this.user.id||this.purchase.userId==this.user.id){this.isSeller=this.purchase.sellerId==this.user.id,this.finished=this.purchase.state==d.c.Entregue,this.stateValue=this.purchase.state,this.purchaseLoaded=!0;var e={shouldWait1:!0,shouldWait2:!0,shouldWait3:!0};for(this.GetProduct(e),this.GetSeller(e),this.GetBuyer(e);e.shouldWait1&&e.shouldWait2&&e.shouldWait3;)yield new Promise(i=>setTimeout(i,10));this.title="Status da compra",this.allLoaded=!0,this.loading&&(yield this.alertService.dismissLoading(this.loadingAlertID),this.loading=!1)}else this.SendAway("/")}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar a compra, tente novamente mais tarde.")}))})}GetProduct(i){return Object(c.b)(this,void 0,void 0,function*(){this.subscription4&&!this.subscription4.closed&&this.subscription4.unsubscribe(),this.subscription4=(yield this.productService.GetNoRestriction(this.purchase.item.productID)).subscribe(e=>Object(c.b)(this,void 0,void 0,function*(){this.product=e,yield this.GetReview(),yield this.GetRating(),i.shouldWait1=!1,this.productLoaded=!0}),e=>Object(c.b)(this,void 0,void 0,function*(){i.shouldWait1=!1,yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar o produto, tente novamente mais tarde.")}))})}GetReview(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription6&&!this.subscription6.closed&&this.subscription6.unsubscribe(),this.subscription6=(yield this.reviewService.GetReviewFromPurchase(this.purchase.id)).subscribe(i=>{i.length<1?this.reviewExists=!1:(this.review.title=i[0].title,this.review.content=i[0].text,this.review.recommend=i[0].recommend?"true":"false",this.prevReview.title=i[0].title,this.prevReview.content=i[0].text,this.prevReview.recommend=i[0].recommend,this.reviewId=i[0].id,this.reviewExists=!0)},i=>{this.reviewExists=!1})})}GetRating(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription7&&!this.subscription7.closed&&this.subscription7.unsubscribe(),this.subscription7=(yield this.ratingService.GetRatingFromPurchase(this.purchase.id)).subscribe(i=>{i.length<1||(this.ratingId=i[0].id)})})}GetSeller(i){return Object(c.b)(this,void 0,void 0,function*(){this.subscription5&&!this.subscription5.closed&&this.subscription5.unsubscribe(),this.subscription5=(yield this.userService.Get(this.purchase.sellerId)).subscribe(e=>{this.seller=e,i.shouldWait2=!1,this.sellerLoaded=!0},e=>Object(c.b)(this,void 0,void 0,function*(){i.shouldWait2=!1,yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar o produto, tente novamente mais tarde.")}))})}GetBuyer(i){return Object(c.b)(this,void 0,void 0,function*(){this.subscription8&&!this.subscription8.closed&&this.subscription8.unsubscribe(),this.subscription8=(yield this.userService.Get(this.purchase.userId)).subscribe(e=>{this.buyer=Object.assign(Object.assign({},e),{calculateAvgRating:(new l.b).calculateAvgRating,id:this.purchase.userId}),i.shouldWait3=!1,this.buyerLoaded=!0},e=>Object(c.b)(this,void 0,void 0,function*(){i.shouldWait3=!1,yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar o produto, tente novamente mais tarde.")}))})}StateChange(i){return Object(c.b)(this,void 0,void 0,function*(){this.allLoaded&&(yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),yield this.purchaseService.updateState(this.purchase.id,this.stateValue).then(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Status foi modificado"),this.showChangeState=!this.showChangeState,this.notificationService.SentNotificationToFirebase(`Status da sua compra foi modificado para ${Object(d.d)(this.stateValue)}`,`/purchase/${this.id}`,this.purchase.userId,v.d.boughtItemChanged)})).catch(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Ocorreu um erro ao modificar status")})))})}segmentChanged(i){this.review.recommend=i.detail.value}SendReview(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),this.reviewExists?yield this.UpdateReview():yield this.SendNewReview()})}UpdateReview(){return Object(c.b)(this,void 0,void 0,function*(){var i,e={shouldWait1:!0,shouldWait2:!0},t=!1,s={wt1:void 0,wt2:void 0};for(yield this.reviewService.Update(this.reviewId,this.review.title,this.review.content,"true"==this.review.recommend).then(()=>s.wt1=!0).catch(()=>s.wt1=!1).finally(()=>e.shouldWait1=!1),yield this.ratingService.Update(this.ratingId,"true"==this.review.recommend).then(()=>s.wt2=!0).catch(()=>s.wt2=!1).finally(()=>e.shouldWait2=!1);e.shouldWait1&&e.shouldWait2;)yield new Promise(i=>setTimeout(i,10));for(i=t=!s.wt1||!s.wt2,!s.wt1&&s.wt2&&(yield this.ratingService.Update(this.ratingId,this.prevReview.recommend).finally(()=>t=!1)),!s.wt2&&s.wt1&&(yield this.reviewService.Update(this.reviewId,this.prevReview.title,this.prevReview.content,this.prevReview.recommend).finally(()=>t=!1)),s.wt2||s.wt1||(yield this.ratingService.Update(this.ratingId,this.prevReview.recommend),yield this.reviewService.Update(this.reviewId,this.prevReview.title,this.prevReview.content,this.prevReview.recommend),t=!1);t;)yield new Promise(i=>setTimeout(i,10));if(i)return yield this.alertService.dismissLoading(this.loadingAlertID),void(yield this.alertService.presentAlert("Ocorreu um erro.","Avalia\xe7\xe3o n\xe3o foi atualizada, tente novamente mais tarde."));yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Avalia\xe7\xe3o foi atualizada"),this.showReviewDiv=!this.showReviewDiv})}SendNewReview(){return Object(c.b)(this,void 0,void 0,function*(){var i,e,t,s=this.FillRating(),n=this.FillReview(),o={shouldWait1:!0,shouldWait2:!0},r=!1,c={wt1:void 0,wt2:void 0};for(yield this.reviewService.Add(n).then(i=>{e=i.id,c.wt1=!0}).catch(()=>c.wt1=!1).finally(()=>o.shouldWait1=!1),yield this.ratingService.Add(s).then(i=>{t=i.id,c.wt2=!0}).catch(()=>c.wt2=!1).finally(()=>o.shouldWait2=!1);o.shouldWait1&&o.shouldWait2;)yield new Promise(i=>setTimeout(i,10));for(i=r=!c.wt1||!c.wt2,!c.wt1&&c.wt2&&(yield this.ratingService.Delete(t).finally(()=>r=!1)),!c.wt2&&c.wt1&&(yield this.reviewService.Delete(e).finally(()=>r=!1)),c.wt2||c.wt1||(yield this.ratingService.Delete(t),yield this.reviewService.Delete(e),r=!1);r;)yield new Promise(i=>setTimeout(i,10));if(i)return yield this.alertService.dismissLoading(this.loadingAlertID),void(yield this.alertService.presentAlert("Ocorreu um erro.","Avalia\xe7\xe3o n\xe3o foi enviada, tente novamente mais tarde."));yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Avalia\xe7\xe3o foi enviada"),this.showReviewDiv=!this.showReviewDiv})}FillRating(){var i=new b;return i.linkedPurchaseId=this.purchase.id,i.ratedUserId=this.purchase.sellerId,i.raterUserId=this.purchase.userId,i.recommend="true"==this.review.recommend,i}FillReview(){var i=new u;return i.userID=this.purchase.userId,i.productID=this.purchase.item.productID,i.linkedPurchaseId=this.purchase.id,i.title=this.review.title,i.text=this.review.content,i.recommend="true"==this.review.recommend,i}ShowUserPopover(){return Object(c.b)(this,void 0,void 0,function*(){var i=yield this.popoverController.create({component:p.a,mode:"md",componentProps:{user:this.buyer},animated:!0});yield i.present()})}SendAway(i){return Object(c.b)(this,void 0,void 0,function*(){yield this.router.navigate([i]),yield this.alertService.dismissLoading(this.loadingAlertID)})}scrollToBotton(){setTimeout(()=>{this.content.scrollToBottom(500)},100)}}return i.\u0275fac=function(e){return new(e||i)(g.Mb(r.a),g.Mb(m.a),g.Mb(f.a),g.Mb(w.a),g.Mb(S.a),g.Mb(y.a),g.Mb(R.a),g.Mb(r.g),g.Mb(I.a),g.Mb(o.bb))},i.\u0275cmp=g.Gb({type:i,selectors:[["app-purchase-page"]],viewQuery:function(i,e){if(1&i&&g.vc(o.m,1),2&i){let i;g.lc(i=g.ac())&&(e.content=i.first)}},decls:15,vars:16,consts:[["segment","0",3,"title"],[3,"fullscreen"],["segment","1",3,"title"],[3,"ngClass"],["pager","true",3,"options",4,"ngIf"],[4,"ngIf"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],[3,"src",4,"ngIf"],[3,"src"],["interface","popover","placeholder","Selecione",3,"ngModel","ngModelChange"],[3,"value"],["position","floating"],["type","text","name","review-title",3,"ngModel","ngModelChange"],["name","review-content","required","","autoGrow","true",3,"ngModel","ngModelChange"],["type","button","color","primary","expand","block",1,"ion-margin",3,"disabled","click"],[3,"ionChange"],["value","true"],["name","thumbs-up-sharp"],["value","false"],["name","thumbs-down-sharp"],[3,"value","ionChange"],["type","button","color","primary","expand","block",1,"ion-margin",3,"routerLink"],["type","button","color","primary","expand","block","class","ion-margin",3,"click",4,"ngIf"],["type","button","color","primary","expand","block",1,"ion-margin",3,"click"]],template:function(i,e){1&i&&(g.Nb(0,"app-header",0),g.Rb(1,"ion-content",1),g.Nb(2,"app-header",2),g.Rb(3,"div",3),g.Rb(4,"ion-list"),g.qc(5,L,3,3,"ion-slides",4),g.qc(6,M,5,1,"ion-item",5),g.qc(7,A,5,1,"ion-item",5),g.qc(8,D,5,1,"ion-item",5),g.qc(9,C,5,1,"ion-item",5),g.qc(10,x,5,1,"ion-item",5),g.qc(11,W,5,1,"ion-item",5),g.Qb(),g.qc(12,j,5,2,"ion-item",5),g.qc(13,T,13,5,"ng-container",5),g.qc(14,U,6,5,"div",5),g.Qb(),g.Qb()),2&i&&(g.hc("title",e.title),g.Bb(1),g.hc("fullscreen",!0),g.Bb(1),g.hc("title",e.title),g.Bb(1),g.hc("ngClass",g.kc(14,F,!e.isMobile)),g.Bb(2),g.hc("ngIf",e.productLoaded),g.Bb(1),g.hc("ngIf",e.productLoaded),g.Bb(1),g.hc("ngIf",e.purchaseLoaded),g.Bb(1),g.hc("ngIf",e.purchaseLoaded&&e.productLoaded),g.Bb(1),g.hc("ngIf",e.purchaseLoaded),g.Bb(1),g.hc("ngIf",e.purchaseLoaded),g.Bb(1),g.hc("ngIf",e.purchaseLoaded&&e.purchase.finishDate),g.Bb(1),g.hc("ngIf",e.isSeller&&e.showChangeState),g.Bb(1),g.hc("ngIf",e.showReviewDiv&&e.finished),g.Bb(1),g.hc("ngIf",e.allLoaded))},directives:[Q.a,o.m,s.i,o.y,s.k,o.O,s.j,o.N,o.q,o.s,o.x,o.Q,o.L,o.db,n.f,n.i,o.M,o.r,o.eb,o.R,n.k,o.e,o.J,o.K,o.p,o.cb,r.h],styles:["ion-img[_ngcontent-%COMP%]{height:200px;margin:5px auto}.webrowser[_ngcontent-%COMP%]{width:var(--maxWidth);margin:0 auto;padding-top:1rem}"]}),i})()}];let K=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.Kb({type:i}),i.\u0275inj=g.Jb({imports:[[r.k.forChild(V)],r.k]}),i})();var Z=t("dagM");let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.Kb({type:i}),i.\u0275inj=g.Jb({imports:[[s.b,n.a,o.U,K,Z.a]]}),i})()}}]);