(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2MiI":function(i,t,e){"use strict";e.d(t,"a",function(){return d});var n=e("OGMK"),s=e("fXoL"),o=e("ofXK"),r=e("TEn/");function c(i,t){if(1&i&&(s.Rb(0,"ion-header",3),s.Rb(1,"ion-toolbar"),s.Rb(2,"ion-buttons",4),s.Nb(3,"ion-menu-button"),s.Qb(),s.Rb(4,"ion-title"),s.rc(5),s.Qb(),s.Qb(),s.Qb()),2&i){const i=s.bc();s.hc("translucent",!0),s.Bb(5),s.sc(i.title)}}function b(i,t){if(1&i&&(s.Rb(0,"ion-header",5),s.Rb(1,"ion-toolbar"),s.Rb(2,"ion-title",6),s.rc(3),s.Qb(),s.Qb(),s.Qb()),2&i){const i=s.bc();s.Bb(3),s.sc(i.title)}}function l(i,t){1&i&&s.Nb(0,"div",7)}let d=(()=>{class i{constructor(){this.title="",this.isMobile=!0}ngOnInit(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.subscription=n.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=n.a.maxMobileWidth})}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Gb({type:i,selectors:[["app-header"]],inputs:{title:"title",segment:"segment"},decls:3,vars:3,consts:[[3,"translucent",4,"ngIf"],["collapse","condense",4,"ngIf"],["style","width: 100%; height: 65px;",4,"ngIf"],[3,"translucent"],["slot","start"],["collapse","condense"],["size","large"],[2,"width","100%","height","65px"]],template:function(i,t){1&i&&(s.qc(0,c,6,2,"ion-header",0),s.qc(1,b,4,1,"ion-header",1),s.qc(2,l,1,0,"div",2)),2&i&&(s.hc("ngIf",t.isMobile&&"0"==t.segment),s.Bb(1),s.hc("ngIf",t.isMobile&&"1"==t.segment),s.Bb(1),s.hc("ngIf",!t.isMobile&&"0"==t.segment))},directives:[o.k,r.o,r.T,r.f,r.B,r.S],styles:[""]}),i})()},dagM:function(i,t,e){"use strict";e.d(t,"a",function(){return b});var n=e("ofXK"),s=e("3Pt+"),o=e("tyNb"),r=e("TEn/"),c=e("fXoL");let b=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.Kb({type:i}),i.\u0275inj=c.Jb({imports:[[r.U,n.b,s.a,o.k]]}),i})()},ocXJ:function(i,t,e){"use strict";e.r(t),e.d(t,"AdminProductsPageModule",function(){return k});var n=e("ofXK"),s=e("3Pt+"),o=e("TEn/"),r=e("tyNb"),c=e("mrSG"),b=e("BTSn"),l=e("CbRh"),d=e("fXoL"),a=e("qfBg");function u(i,t){if(1&i&&(d.Rb(0,"ion-slide"),d.Nb(1,"ion-img",7),d.Qb()),2&i){const i=t.$implicit;d.Bb(1),d.hc("src",i)}}function h(i,t){1&i&&d.Nb(0,"ion-img",8)}function p(i,t){1&i&&d.Nb(0,"img",9)}function g(i,t){if(1&i&&d.Nb(0,"img",10),2&i){const i=d.bc();d.hc("src",i.SellerUser.photo,d.oc)}}let f=(()=>{class i{constructor(i){this.userService=i,this.product=new b.a,this.SellerUser=new l.b,this.slideOpts={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0}}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){this.GetSeller()})}ionViewWillLeave(){this.product=new b.a,this.SellerUser=new l.b,this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe()}GetSeller(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription1=(yield this.userService.Get(this.product.sellerID)).subscribe(i=>{this.SellerUser=i})})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(a.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-product"]],inputs:{product:"product"},decls:23,vars:12,consts:[[1,"ion-margin"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],["src","assets/sem-foto.png",4,"ngIf"],["id","product-seller",1,"ion-padding-vertical","ion-align-items-center","ion-justify-content-start"],["id","sellerimage","src","assets/perfil.png",4,"ngIf"],["id","sellerimage",3,"src",4,"ngIf"],[3,"src"],["src","assets/sem-foto.png"],["id","sellerimage","src","assets/perfil.png"],["id","sellerimage",3,"src"]],template:function(i,t){1&i&&(d.Rb(0,"ion-item",0),d.Rb(1,"div"),d.Rb(2,"ion-slides",1),d.qc(3,u,2,1,"ion-slide",2),d.qc(4,h,1,0,"ion-img",3),d.Qb(),d.Rb(5,"h2"),d.rc(6),d.Qb(),d.Rb(7,"p"),d.rc(8),d.cc(9,"currency"),d.Qb(),d.Rb(10,"h3"),d.rc(11,"Descri\xe7\xe3o:"),d.Qb(),d.Rb(12,"p"),d.Rb(13,"ion-text"),d.rc(14),d.Qb(),d.Qb(),d.Rb(15,"ion-row",4),d.qc(16,p,1,0,"img",5),d.qc(17,g,1,1,"img",6),d.Rb(18,"ion-label"),d.Rb(19,"h3"),d.rc(20,"Vendedor: "),d.Qb(),d.Rb(21,"h2"),d.rc(22),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&i&&(d.Bb(2),d.hc("options",t.slideOpts),d.Bb(1),d.hc("ngForOf",t.product.gallery),d.Bb(1),d.hc("ngIf",1>(null==t.product.gallery?null:t.product.gallery.length)),d.Bb(2),d.sc(t.product.name),d.Bb(2),d.sc(d.dc(9,9,t.product.price,"BRL")),d.Bb(6),d.sc(t.product.description),d.Bb(2),d.hc("ngIf",!t.SellerUser.photo),d.Bb(1),d.hc("ngIf",t.SellerUser.photo),d.Bb(5),d.sc(t.SellerUser.name))},directives:[o.s,o.O,n.j,n.k,o.Q,o.H,o.x,o.N,o.q],pipes:[n.c],styles:["ion-img[_ngcontent-%COMP%]{height:200px;margin:5px auto}#sellerimage[_ngcontent-%COMP%]{border-radius:50%;height:2.5rem;width:2.5rem;margin-right:.3rem}"]}),i})();var m=e("OGMK"),v=e("E95c"),y=e("3LUQ"),S=e("Gdn9"),w=e("4kQV"),I=e("OC8m"),R=e("2MiI");function Q(i,t){1&i&&(d.Rb(0,"div",7),d.rc(1,"ADM - Produtos"),d.Qb())}function M(i,t){1&i&&(d.Rb(0,"div",8),d.rc(1,"Nenhum item encontrado."),d.Qb())}function O(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item",13),d.Zb("click",function(t){d.nc(i);const e=d.bc().$implicit;return d.bc().Verify(e),t.stopPropagation()}),d.Rb(1,"span"),d.rc(2,"Verificar"),d.Qb(),d.Qb()}}function B(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item-options",14),d.Rb(1,"ion-item-option",15),d.Zb("click",function(){d.nc(i);const t=d.bc().$implicit;return d.bc().Verify(t)}),d.Rb(2,"span",16),d.rc(3,"Verificar"),d.Qb(),d.Qb(),d.Qb()}}function P(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item-sliding"),d.Rb(1,"ion-item",9),d.Zb("click",function(){d.nc(i);const e=t.$implicit;return d.bc().ShowProduct(e)}),d.Nb(2,"img",10),d.Rb(3,"ion-label"),d.Rb(4,"h2"),d.rc(5),d.Qb(),d.Rb(6,"h3"),d.rc(7),d.cc(8,"currency"),d.Qb(),d.Qb(),d.qc(9,O,3,0,"ion-item",11),d.Qb(),d.qc(10,B,4,0,"ion-item-options",12),d.Qb()}if(2&i){const i=t.$implicit,e=d.bc();d.Bb(2),d.hc("src",(null==i.gallery?null:i.gallery.length)>0?i.gallery[0]:"assets/sem-foto.png",d.oc)("alt",i.name),d.Bb(3),d.sc(i.name),d.Bb(2),d.sc(d.dc(8,6,i.price,"BRL")),d.Bb(2),d.hc("ngIf",!e.isMobile),d.Bb(1),d.hc("ngIf",e.isMobile)}}const j=function(i){return{webrowser:i}},A=[{path:"",component:(()=>{class i{constructor(i,t,e,n,s,o){this.alertService=i,this.router=t,this.productService=e,this.reviewService=n,this.popoverController=s,this.notificationService=o,this.products=[]}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){this.GetPlataformInfo(),this.GetUser()})}ionViewWillLeave(){this.user=null,this.products=[],this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe()}GetPlataformInfo(){this.subscription1=m.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=m.a.maxMobileWidth,this.setDivWidth(.4*i.appWidth>m.a.maxMobileWidth/1.5?"40%":m.a.maxMobileWidth/1.5+"px")})}setDivWidth(i){document.body.style.setProperty("--maxWidth",i)}GetUser(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),this.subscription2=m.a.GetUserInfo().subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){return i?i.userType!=l.c.Admin?(yield this.router.navigate(["/"]),void(yield this.alertService.dismissLoading(this.loadingAlertID))):(this.user=i,void this.GetProducts()):(yield this.router.navigate(["/login"]),void(yield this.alertService.dismissLoading(this.loadingAlertID)))}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}GetProducts(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription3=(yield this.productService.GetAllVerified(!1)).subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){this.products=i,yield this.alertService.dismissLoading(this.loadingAlertID)}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}Verify(i){return Object(c.b)(this,void 0,void 0,function*(){var t;yield this.alertService.confirmationAlert("Confirma\xe7\xe3o","Tem ceteza que deseja verificar esse produto?").then(i=>t=i),t&&(yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),yield this.productService.UpdateVerified(i.id,!i.verified).then(()=>Object(c.b)(this,void 0,void 0,function*(){this.notificationService.SentNotificationToFirebase(`Seu anuncio ${i.name} foi verificado`,`/product/${i.id}`,i.sellerID,v.d.advertVerified),yield this.alertService.ShowToast("Produto modificado com sucesso!")})).catch(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.ShowToast("Ocorreu um erro, tente novamente mais tarde")})).finally(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID)})))})}ShowProduct(i){return Object(c.b)(this,void 0,void 0,function*(){var t=yield this.popoverController.create({component:f,mode:"md",componentProps:{product:i},animated:!0});yield t.present()})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(y.a),d.Mb(r.g),d.Mb(S.a),d.Mb(w.a),d.Mb(o.bb),d.Mb(I.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-admin-products"]],decls:8,vars:7,consts:[["title","ADM - Produtos","segment","0"],[3,"fullscreen"],["title","ADM - Produtos","segment","1"],[3,"ngClass"],["style","padding-bottom: .3rem;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"padding-bottom",".3rem"],[2,"text-align","center"],["lines","inset","button","",3,"click"],[3,"src","alt"],["class","ion-margin","button","","color","warning",3,"click",4,"ngIf"],["side","end",4,"ngIf"],["button","","color","warning",1,"ion-margin",3,"click"],["side","end"],["color","warning",3,"click"],["id","optionRight"]],template:function(i,t){1&i&&(d.Nb(0,"app-header",0),d.Rb(1,"ion-content",1),d.Nb(2,"app-header",2),d.Rb(3,"div",3),d.qc(4,Q,2,0,"div",4),d.Rb(5,"ion-list"),d.qc(6,M,2,0,"div",5),d.qc(7,P,11,9,"ion-item-sliding",6),d.Qb(),d.Qb(),d.Qb()),2&i&&(d.Bb(1),d.hc("fullscreen",!0),d.Bb(2),d.hc("ngClass",d.kc(5,j,!t.isMobile)),d.Bb(1),d.hc("ngIf",!t.isMobile),d.Bb(2),d.hc("ngIf",!t.products||t.products&&1>t.products.length),d.Bb(1),d.hc("ngForOf",t.products))},directives:[R.a,o.m,n.i,n.k,o.y,n.j,o.w,o.s,o.x,o.v,o.u],pipes:[n.c],styles:["img[_ngcontent-%COMP%]{border-radius:10%;height:40px;width:40px;margin:0 7px 0 0}.webrowser[_ngcontent-%COMP%]{text-align:center;width:var(--maxWidth);margin:0 auto;padding-top:1rem}#optionRight[_ngcontent-%COMP%]{margin:0 .9rem 0 1rem}"]}),i})()}];let G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({imports:[[r.k.forChild(A)],r.k]}),i})();var x=e("dagM");let k=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({imports:[[n.b,s.a,o.U,G,x.a]]}),i})()}}]);