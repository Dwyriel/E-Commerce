(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2MiI":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i("OGMK"),n=i("fXoL"),r=i("ofXK"),o=i("TEn/");function b(e,t){if(1&e&&(n.Rb(0,"ion-header",3),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-buttons",4),n.Nb(3,"ion-menu-button"),n.Qb(),n.Rb(4,"ion-title"),n.qc(5),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.bc();n.gc("translucent",!0),n.Bb(5),n.rc(e.title)}}function c(e,t){if(1&e&&(n.Rb(0,"ion-header",5),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-title",6),n.qc(3),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.bc();n.Bb(3),n.rc(e.title)}}function d(e,t){1&e&&n.Nb(0,"div",7)}let a=(()=>{class e{constructor(){this.title="",this.isMobile=!0}ngOnInit(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.subscription=s.a.GetAppInfo().subscribe(e=>{this.isMobile=e.appWidth<=s.a.maxMobileWidth})}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-header"]],inputs:{title:"title",segment:"segment"},decls:3,vars:3,consts:[[3,"translucent",4,"ngIf"],["collapse","condense",4,"ngIf"],["style","width: 100%; height: 65px;",4,"ngIf"],[3,"translucent"],["slot","start"],["collapse","condense"],["size","large"],[2,"width","100%","height","65px"]],template:function(e,t){1&e&&(n.pc(0,b,6,2,"ion-header",0),n.pc(1,c,4,1,"ion-header",1),n.pc(2,d,1,0,"div",2)),2&e&&(n.gc("ngIf",t.isMobile&&"0"==t.segment),n.Bb(1),n.gc("ngIf",t.isMobile&&"1"==t.segment),n.Bb(1),n.gc("ngIf",!t.isMobile&&"0"==t.segment))},directives:[r.k,o.o,o.S,o.f,o.B,o.R],styles:[""]}),e})()},aQqy:function(e,t,i){"use strict";i.r(t),i.d(t,"AddressFormPageModule",function(){return Q});var s=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),o=i("tyNb"),b=i("mrSG"),c=i("OGMK");class d{}var a=i("CbRh"),u=i("fXoL"),l=i("3LUQ"),h=i("xRcl"),p=i("qfBg"),g=i("2MiI");function f(e,t){if(1&e&&(u.Rb(0,"div"),u.Rb(1,"ion-button",14),u.qc(2,"Cadastrar Endere\xe7o"),u.Qb(),u.Qb()),2&e){u.bc();const e=u.lc(5);u.Bb(1),u.gc("disabled",e.invalid)}}function m(e,t){if(1&e&&(u.Rb(0,"div"),u.Rb(1,"ion-button",14),u.qc(2,"Atualizar Endere\xe7o"),u.Qb(),u.Qb()),2&e){u.bc();const e=u.lc(5);u.Bb(1),u.gc("disabled",e.invalid)}}const v=function(e){return{webrowser:e}},M=[{path:"",component:(()=>{class e{constructor(e,t,i,s,n){this.router=e,this.alertService=t,this.addressServ=i,this.userServ=s,this.navController=n,this.title="Formul\xe1rio de Endere\xe7o",this.user=new a.a,this.address=new d}ngOnInit(){}ionViewWillEnter(){this.user.address=new d,this.checkForUser(),this.GetPlataformInfo()}ionViewWillLeave(){this.user=new a.a,this.user.address=new d,this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe()}GetPlataformInfo(){this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription1=c.a.GetAppInfo().subscribe(e=>{this.isMobile=e.appWidth<=c.a.maxMobileWidth,this.setDivWidth(.4*e.appWidth>c.a.maxMobileWidth/1.5?"40%":c.a.maxMobileWidth/1.5+"px")})}setDivWidth(e){document.body.style.setProperty("--maxWidth",e)}checkForUser(){return Object(b.b)(this,void 0,void 0,function*(){this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription2=c.a.GetUserInfo().subscribe(e=>Object(b.b)(this,void 0,void 0,function*(){e?(this.user=e,e.addressId&&(this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription3=(yield this.addressServ.Get(e.addressId)).subscribe(e=>Object(b.b)(this,void 0,void 0,function*(){return this.address=e})))):yield this.router.navigate(["/"])}))})}OnClick(e){return Object(b.b)(this,void 0,void 0,function*(){e.valid&&(yield this.alertService.presentLoading(),this.user.addressId?this.addressServ.Update(this.address,this.user.addressId).then(t=>{e.reset(),this.successfulSubmit("Aten\xe7\xe3o","Seu endere\xe7o foi atualizado!","/profile")},e=>{console.log(e),this.alertService.presentAlert("Erro","N\xe3o foi possivel atualizar seu endere\xe7o")}):yield this.addressServ.Add(this.address).then(t=>{this.userServ.UpdateAddress(this.user.id,t.id).then(t=>{e.reset(),this.successfulSubmit("Aten\xe7\xe3o","Endere\xe7o Registrado!","/profile")},e=>{this.addressServ.Delete(t.id),this.failedSubmit("Erro","N\xe3o foi poss\xedvel registrar seu endere\xe7o")})},e=>{this.failedSubmit("Erro","N\xe3o foi poss\xedvel registrar seu endere\xe7o")}))})}successfulSubmit(e,t,i){return Object(b.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlert),yield this.alertService.presentAlert(e,t),yield this.router.navigate([i])})}failedSubmit(e,t){return Object(b.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlert),yield this.alertService.presentAlert(e,t)})}GoBack(){this.navController.back()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(o.g),u.Mb(l.a),u.Mb(h.a),u.Mb(p.a),u.Mb(r.X))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-address-form"]],decls:30,vars:13,consts:[["segment","0",3,"title"],[3,"fullscreen"],["segment","1",3,"title"],[3,"ngClass"],[3,"ngSubmit"],["form","ngForm"],["position","stacked"],["type","text","name","state","required","","pattern","[a-zA-Z ]*",3,"ngModel","ngModelChange"],["type","text","name","city","required","","pattern","[a-zA-Z ]*",3,"ngModel","ngModelChange"],["type","text","name","cep","required","","pattern","[0-9]{8}",3,"ngModel","ngModelChange"],["type","text","name","street","required","",3,"ngModel","ngModelChange"],["type","text","name","number","required","",3,"ngModel","ngModelChange"],[4,"ngIf"],["expand","block","size","default","type","reset",1,"ion-margin",3,"click"],["expand","block","size","default","type","submit",1,"ion-margin",3,"disabled"]],template:function(e,t){if(1&e){const e=u.Sb();u.Nb(0,"app-header",0),u.Rb(1,"ion-content",1),u.Nb(2,"app-header",2),u.Rb(3,"div",3),u.Rb(4,"form",4,5),u.Zb("ngSubmit",function(){u.mc(e);const i=u.lc(5);return t.OnClick(i)}),u.Rb(6,"ion-item"),u.Rb(7,"ion-label",6),u.qc(8,"Estado"),u.Qb(),u.Rb(9,"ion-input",7),u.Zb("ngModelChange",function(e){return t.address.state=e}),u.Qb(),u.Qb(),u.Rb(10,"ion-item"),u.Rb(11,"ion-label",6),u.qc(12,"Cidade"),u.Qb(),u.Rb(13,"ion-input",8),u.Zb("ngModelChange",function(e){return t.address.city=e}),u.Qb(),u.Qb(),u.Rb(14,"ion-item"),u.Rb(15,"ion-label",6),u.qc(16,"CEP"),u.Qb(),u.Rb(17,"ion-input",9),u.Zb("ngModelChange",function(e){return t.address.cep=e}),u.Qb(),u.Qb(),u.Rb(18,"ion-item"),u.Rb(19,"ion-label",6),u.qc(20,"Rua"),u.Qb(),u.Rb(21,"ion-input",10),u.Zb("ngModelChange",function(e){return t.address.street=e}),u.Qb(),u.Qb(),u.Rb(22,"ion-item"),u.Rb(23,"ion-label",6),u.qc(24,"Numero"),u.Qb(),u.Rb(25,"ion-input",11),u.Zb("ngModelChange",function(e){return t.address.number=e}),u.Qb(),u.Qb(),u.pc(26,f,3,1,"div",12),u.pc(27,m,3,1,"div",12),u.Rb(28,"ion-button",13),u.Zb("click",function(){return t.GoBack()}),u.qc(29,"Cancelar"),u.Qb(),u.Qb(),u.Qb(),u.Qb()}2&e&&(u.gc("title",t.title),u.Bb(1),u.gc("fullscreen",!0),u.Bb(1),u.gc("title",t.title),u.Bb(1),u.gc("ngClass",u.jc(11,v,!t.isMobile)),u.Bb(6),u.gc("ngModel",t.address.state),u.Bb(4),u.gc("ngModel",t.address.city),u.Bb(4),u.gc("ngModel",t.address.cep),u.Bb(4),u.gc("ngModel",t.address.street),u.Bb(4),u.gc("ngModel",t.address.number),u.Bb(1),u.gc("ngIf",!t.user.addressId),u.Bb(1),u.gc("ngIf",t.user.addressId))},directives:[g.a,r.m,s.i,n.l,n.g,n.h,r.s,r.x,r.r,r.db,n.k,n.j,n.f,n.i,s.k,r.e],styles:[".webrowser[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);width:var(--maxWidth);margin:0 auto;padding-top:30px}"]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({imports:[[o.k.forChild(M)],o.k]}),e})();var y=i("dagM");let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({imports:[[s.b,n.a,r.T,R,y.a]]}),e})()},dagM:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var s=i("ofXK"),n=i("3Pt+"),r=i("tyNb"),o=i("TEn/"),b=i("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({imports:[[o.T,s.b,n.a,r.k]]}),e})()}}]);