(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4kQV":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("mrSG"),n=i("lJxs"),o=i("fXoL"),r=i("I/3d");let c=(()=>{class e{constructor(e){this.fireDatabase=e,this.collection="Reviews"}Add(e){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).add({userID:e.userID,productID:e.productID,linkedPurchaseId:e.linkedPurchaseId,title:e.title,text:e.text,recommend:e.recommend,date:(new Date).getTime()})})}GetAllFromProduct(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("productID","==",e).orderBy("date","desc")).snapshotChanges().pipe(Object(n.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date)}))))})}GetReviewFromPurchase(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("linkedPurchaseId","==",e)).snapshotChanges().pipe(Object(n.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date)}))))})}Update(e,t,i,n){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).update({title:t,text:i,recommend:n})})}deleteReviewsFrom(e){return Object(a.b)(this,void 0,void 0,function*(){var t,i=(yield this.GetAllFromProduct(e)).subscribe(e=>Object(a.b)(this,void 0,void 0,function*(){t=e;const a=this.fireDatabase.firestore.batch();t.forEach(e=>{var t=this.fireDatabase.firestore.collection(this.collection).doc(e.id);a.delete(t)}),yield a.commit(),i.unsubscribe()}))})}Delete(e){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).delete()})}}return e.\u0275fac=function(t){return new(t||e)(o.Vb(r.a))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"74mu":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return c});const a=(e,t)=>null!==t.closest(e),n=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,o=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},r=/^[a-z][a-z0-9+\-.]*:/,c=async(e,t,i,a)=>{if(null!=e&&"#"!==e[0]&&!r.test(e)){const n=document.querySelector("ion-router");if(n)return null!=t&&t.preventDefault(),n.push(e,i,a)}return!1}},BTSn:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("PVVB");class n{constructor(){this.gallery=[],this.verified=!1}fillSubCategory(){this.subCatValue?a.a.SubCatsContains(this.subCatValue)?this.subCategory=a.a.GetSubCatFromValue(this.subCatValue):console.error("the value of subCatValue does not represent a subcategory"):console.error("fillSubCategory called on a object with subCatValue null or undefined")}calculateAvgRating(){if(!this.reviews||this.reviews.length<1)return void(this.avgReview=null);const e=this.reviews.length;var t=0;this.reviews.forEach(e=>{t=e.recommend?++t:t}),this.avgReview=t/e*100}}},Gdn9:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var a=i("mrSG"),n=i("BTSn"),o=i("lJxs"),r=i("PVVB"),c=i("fXoL"),s=i("I/3d");let l=(()=>{class e{constructor(e){this.fireDatabase=e,this.collection="Products"}Add(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).add({sellerID:e.sellerID,name:e.name,description:e.description,price:e.price,stock:e.stock,gallery:e.gallery,subCatValue:e.subCatValue,searchArray:e.name.toLowerCase().split(" "),verified:!1,deleted:!1})})}GetAll(){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,e=>e.where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllNoRestriction(){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllVerified(e=!0){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("verified","==",e).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetBySearch(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("searchArray","array-contains",e).where("verified","==",!0).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetBySearchFullString(e){return Object(a.b)(this,void 0,void 0,function*(){var t=e.toLowerCase().split(" ");return this.fireDatabase.collection(this.collection,e=>e.where("searchArray","array-contains-any",t).where("verified","==",!0).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllFromSeller(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("sellerID","==",e).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllFromSubCat(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("subCatValue","==",e).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllVerifiedFromSubCat(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("subCatValue","==",e).where("verified","==",!0).where("deleted","==",!1)).snapshotChanges().pipe(Object(o.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{fillSubCategory:(new n.a).fillSubCategory,calculateAvgRating:(new n.a).calculateAvgRating}))))})}GetAllFromCat(e){return Object(a.b)(this,void 0,void 0,function*(){var t=!0,i=[],a=0,n=[],o=r.a.GetSubCatFrom(e),c=o.length;for(var s of o)i.push((yield this.GetAllFromSubCat(s.value)).subscribe(e=>{e&&n.push(...e),++a>=c&&(t=!1)}));for(;t;)yield new Promise(e=>setTimeout(e,10));for(var l of i)l.unsubscribe();return n=n.filter((e,t,i)=>t===i.findIndex(t=>t.id===e.id))})}GetAllVerifiedFromCat(e){return Object(a.b)(this,void 0,void 0,function*(){var t=!0,i=[],a=0,n=[],o=r.a.GetSubCatFrom(e),c=o.length;for(var s of o)i.push((yield this.GetAllVerifiedFromSubCat(s.value)).subscribe(e=>{e&&n.push(...e),++a>=c&&(t=!1)}));for(;t;)yield new Promise(e=>setTimeout(e,10));for(var l of i)l.unsubscribe();return n=n.filter((e,t,i)=>t===i.findIndex(t=>t.id===e.id))})}Get(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,e=>e.where("deleted","==",!1)).doc(e).valueChanges()})}GetNoRestriction(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).valueChanges()})}Update(e,t){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(t).update({name:e.name,description:e.description,price:e.price,stock:e.stock,gallery:e.gallery,subCatValue:e.subCatValue,searchArray:e.name.toLowerCase().split(" ")})})}UpdateVerified(e,t){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).update({verified:t})})}UpdateStock(e,t){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).update({stock:t})})}DeleteCallFromUser(e,t){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).update({deleted:t})})}Delete(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).delete()})}}return e.\u0275fac=function(t){return new(t||e)(c.Vb(s.a))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},JbSX:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("wEJo"),n=i("qULd"),o=i("iWo5");const r=(e,t)=>{let i,r;const c=(e,a,n)=>{if("undefined"==typeof document)return;const o=document.elementFromPoint(e,a);o&&t(o)?o!==i&&(l(),s(o,n)):l()},s=(e,t)=>{i=e,r||(r=i);const n=i;Object(a.f)(()=>n.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!i)return;const t=i;Object(a.f)(()=>t.classList.remove("ion-activated")),e&&r!==i&&i.click(),i=void 0};return Object(o.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>c(e.currentX,e.currentY,n.a),onMove:e=>c(e.currentX,e.currentY,n.b),onEnd:()=>{l(!0),Object(n.e)(),r=void 0}})}},acej:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o});var a=i("1vRN");const n=async(e,t,i,n,o)=>{if(e)return e.attachViewToDom(t,i,o,n);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof i?t.ownerDocument&&t.ownerDocument.createElement(i):i;return n&&n.forEach(e=>r.classList.add(e)),o&&Object.assign(r,o),t.appendChild(r),await new Promise(e=>Object(a.c)(r,e)),r},o=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},c14U:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("fXoL");let n=(()=>{class e{AddItem(e,t){if(t.length<1)this.AddNewItem(e,t);else{var i=!0;t.forEach(t=>{if(e==t.productID)return t.amount++,void(i=!1)}),i&&this.AddNewItem(e,t)}return t}AddNewItem(e,t){return t.push({productID:e,amount:1}),t}RemoveItem(e,t){for(var i=t.length,a=0;a<i;a++)if(e==t[a].productID){if(t[a].amount>1){t[a].amount--;break}t.splice(a,1);break}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},fcTE:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"c",function(){return n}),i.d(t,"a",function(){return o}),i.d(t,"d",function(){return r});class a{constructor(){this.state=n.Processando,this.item={productID:void 0,amount:void 0}}}var n=function(e){return e[e.Processando=0]="Processando",e[e.Enviado=1]="Enviado",e[e.Entregue=2]="Entregue",e}({});function o(e,t,i,o=n.Processando){var r=new a;return r.userId=e,r.sellerId=t,r.item=i,r.state=o,r}function r(e){return e==n.Processando?"Processando":e==n.Enviado?"Enviado":e==n.Entregue?"Entregue":"Invalido"}},h3R7:function(e,t,i){"use strict";i.d(t,"a",function(){return a});const a={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const a=e*t/i-e+"ms",n=2*Math.PI*t/i;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":a}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const a=t/i,n=e*a-e+"ms",o=2*Math.PI*a;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}}},qULd:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"d",function(){return s}),i.d(t,"e",function(){return c});const a={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},n=()=>{a.selection()},o=()=>{a.selectionStart()},r=()=>{a.selectionChanged()},c=()=>{a.selectionEnd()},s=e=>{a.impact(e)}},qZ4S:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var a=i("fXoL");let n=(()=>{class e{constructor(){}Email(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}Name(e){return/^[\w'\-,.][^0-9_!\xa1?\xf7?\xbf/\\+=@#$%\u02c6&*(){}|~<>;:[\]]{2,}$/.test(e)}Custom(e,t){return t.test(e)}Tel(e){return/[0-9]{8,9}/.test(e)}Ddd(e){return/(?:[14689][1-9]|2[12478]|3[1234578]|5[1345]|7[134579])/.test(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xHty:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var a=i("mrSG"),n=i("lJxs"),o=i("fcTE"),r=i("fXoL"),c=i("I/3d");let s=(()=>{class e{constructor(e){this.fireDatabase=e,this.collection="Purchases"}Add(e){return Object(a.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).add({state:e.state,userId:e.userId,sellerId:e.sellerId,item:Object.assign({},e.item),date:(new Date).getTime()})})}Get(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).valueChanges()})}GetAllFromUser(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("userId","==",e).orderBy("date","desc")).snapshotChanges().pipe(Object(n.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date),finishDate:e.payload.doc.data().finishDate?new Date(e.payload.doc.data().finishDate):void 0}))))})}GetAllFromSeller(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,t=>t.where("sellerId","==",e).orderBy("date","desc")).snapshotChanges().pipe(Object(n.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date)}))))})}updateState(e,t){return this.fireDatabase.collection(this.collection).doc(e).update({state:t,finishDate:t==o.c.Entregue?(new Date).getTime():null})}deletepurchasesFrom(e){return Object(a.b)(this,void 0,void 0,function*(){var t,i=(yield this.GetAllFromUser(e)).subscribe(e=>Object(a.b)(this,void 0,void 0,function*(){t=e;const a=this.fireDatabase.firestore.batch();t.forEach(e=>{var t=this.fireDatabase.firestore.collection(this.collection).doc(e.id);a.delete(t)}),yield a.commit(),i.unsubscribe()}))})}deletePurchase(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).delete()})}}return e.\u0275fac=function(t){return new(t||e)(r.Vb(c.a))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xRcl:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var a=i("mrSG"),n=i("fXoL"),o=i("I/3d");let r=(()=>{class e{constructor(e){this.fireDatabase=e,this.collection="Addresses"}Add(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).add({state:e.state,city:e.city,cep:e.cep,street:e.street,number:e.number})})}Get(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).valueChanges()})}Update(e,t){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(t).update({address:e})})}Delete(e){return Object(a.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection).doc(e).delete()})}}return e.\u0275fac=function(t){return new(t||e)(n.Vb(o.a))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);