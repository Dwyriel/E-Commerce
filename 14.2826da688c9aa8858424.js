(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2MiI":function(i,t,e){"use strict";e.d(t,"a",function(){return d});var n=e("OGMK"),s=e("fXoL"),o=e("ofXK"),r=e("TEn/");function c(i,t){if(1&i&&(s.Rb(0,"ion-header",3),s.Rb(1,"ion-toolbar"),s.Rb(2,"ion-buttons",4),s.Nb(3,"ion-menu-button"),s.Qb(),s.Rb(4,"ion-title"),s.qc(5),s.Qb(),s.Qb(),s.Qb()),2&i){const i=s.bc();s.gc("translucent",!0),s.Bb(5),s.rc(i.title)}}function b(i,t){if(1&i&&(s.Rb(0,"ion-header",5),s.Rb(1,"ion-toolbar"),s.Rb(2,"ion-title",6),s.qc(3),s.Qb(),s.Qb(),s.Qb()),2&i){const i=s.bc();s.Bb(3),s.rc(i.title)}}function l(i,t){1&i&&s.Nb(0,"div",7)}let d=(()=>{class i{constructor(){this.title="",this.isMobile=!0}ngOnInit(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.subscription=n.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=n.a.maxMobileWidth})}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Gb({type:i,selectors:[["app-header"]],inputs:{title:"title",segment:"segment"},decls:3,vars:3,consts:[[3,"translucent",4,"ngIf"],["collapse","condense",4,"ngIf"],["style","width: 100%; height: 65px;",4,"ngIf"],[3,"translucent"],["slot","start"],["collapse","condense"],["size","large"],[2,"width","100%","height","65px"]],template:function(i,t){1&i&&(s.pc(0,c,6,2,"ion-header",0),s.pc(1,b,4,1,"ion-header",1),s.pc(2,l,1,0,"div",2)),2&i&&(s.gc("ngIf",t.isMobile&&"0"==t.segment),s.Bb(1),s.gc("ngIf",t.isMobile&&"1"==t.segment),s.Bb(1),s.gc("ngIf",!t.isMobile&&"0"==t.segment))},directives:[o.k,r.o,r.S,r.f,r.B,r.R],styles:[""]}),i})()},dagM:function(i,t,e){"use strict";e.d(t,"a",function(){return b});var n=e("ofXK"),s=e("3Pt+"),o=e("tyNb"),r=e("TEn/"),c=e("fXoL");let b=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.Kb({type:i}),i.\u0275inj=c.Jb({imports:[[r.T,n.b,s.a,o.k]]}),i})()},ocXJ:function(i,t,e){"use strict";e.r(t),e.d(t,"AdminProductsPageModule",function(){return G});var n=e("ofXK"),s=e("3Pt+"),o=e("TEn/"),r=e("tyNb"),c=e("mrSG"),b=e("BTSn"),l=e("CbRh"),d=e("fXoL"),a=e("qfBg");function u(i,t){if(1&i&&(d.Rb(0,"ion-slide"),d.Nb(1,"ion-img",6),d.Qb()),2&i){const i=t.$implicit;d.Bb(1),d.gc("src",i)}}function p(i,t){1&i&&d.Nb(0,"img",7)}function h(i,t){if(1&i&&d.Nb(0,"img",8),2&i){const i=d.bc();d.gc("src",i.SellerUser.photo,d.nc)}}let g=(()=>{class i{constructor(i){this.userService=i,this.product=new b.a,this.SellerUser=new l.a,this.slideOpts={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0}}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){this.GetSeller()})}ionViewWillLeave(){this.product=new b.a,this.SellerUser=new l.a,this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe()}GetSeller(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription1=(yield this.userService.Get(this.product.sellerID)).subscribe(i=>{this.SellerUser=i})})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(a.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-product"]],inputs:{product:"product"},decls:22,vars:11,consts:[[1,"ion-margin"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],["id","product-seller",1,"ion-padding-vertical","ion-align-items-center","ion-justify-content-start"],["id","sellerimage","src","assets/perfil.png",4,"ngIf"],["id","sellerimage",3,"src",4,"ngIf"],[3,"src"],["id","sellerimage","src","assets/perfil.png"],["id","sellerimage",3,"src"]],template:function(i,t){1&i&&(d.Rb(0,"ion-item",0),d.Rb(1,"div"),d.Rb(2,"ion-slides",1),d.pc(3,u,2,1,"ion-slide",2),d.Qb(),d.Rb(4,"h2"),d.qc(5),d.Qb(),d.Rb(6,"p"),d.qc(7),d.cc(8,"currency"),d.Qb(),d.Rb(9,"h3"),d.qc(10,"Descri\xe7\xe3o:"),d.Qb(),d.Rb(11,"p"),d.Rb(12,"ion-text"),d.qc(13),d.Qb(),d.Qb(),d.Rb(14,"ion-row",3),d.pc(15,p,1,0,"img",4),d.pc(16,h,1,1,"img",5),d.Rb(17,"ion-label"),d.Rb(18,"h3"),d.qc(19,"Vendedor: "),d.Qb(),d.Rb(20,"h2"),d.qc(21),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&i&&(d.Bb(2),d.gc("options",t.slideOpts),d.Bb(1),d.gc("ngForOf",t.product.gallery),d.Bb(2),d.rc(t.product.name),d.Bb(2),d.rc(d.dc(8,8,t.product.price,"BRL")),d.Bb(6),d.rc(t.product.description),d.Bb(2),d.gc("ngIf",!t.SellerUser.photo),d.Bb(1),d.gc("ngIf",t.SellerUser.photo),d.Bb(5),d.rc(t.SellerUser.name))},directives:[o.s,o.N,n.j,o.P,o.H,n.k,o.x,o.M,o.q],pipes:[n.c],styles:["ion-img[_ngcontent-%COMP%]{height:200px;margin:5px auto}#sellerimage[_ngcontent-%COMP%]{border-radius:50%;height:2.5rem;width:2.5rem;margin-right:.3rem}"]}),i})();var f=e("OGMK"),m=e("3LUQ"),v=e("Gdn9"),y=e("4kQV"),w=e("2MiI");function R(i,t){1&i&&(d.Rb(0,"div",7),d.qc(1,"ADM - Produtos"),d.Qb())}function S(i,t){1&i&&(d.Rb(0,"div",8),d.qc(1,"Nenhum item encontrado."),d.Qb())}function I(i,t){if(1&i&&d.Nb(0,"img",13),2&i){const i=d.bc().$implicit;d.gc("src",i.gallery[0],d.nc)("alt",i.name)}}function Q(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item",14),d.Zb("click",function(t){d.mc(i);const e=d.bc().$implicit;return d.bc().Verify(e),t.stopPropagation()}),d.Rb(1,"span"),d.qc(2,"Verificar"),d.Qb(),d.Qb()}}function M(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item-options",15),d.Rb(1,"ion-item-option",16),d.Zb("click",function(){d.mc(i);const t=d.bc().$implicit;return d.bc().Verify(t)}),d.Rb(2,"span",17),d.qc(3,"Verificar"),d.Qb(),d.Qb(),d.Qb()}}function O(i,t){if(1&i){const i=d.Sb();d.Rb(0,"ion-item-sliding"),d.Rb(1,"ion-item",9),d.Zb("click",function(){d.mc(i);const e=t.$implicit;return d.bc().ShowProduct(e)}),d.pc(2,I,1,2,"img",10),d.Rb(3,"ion-label"),d.Rb(4,"h2"),d.qc(5),d.Qb(),d.Rb(6,"h3"),d.qc(7),d.cc(8,"currency"),d.Qb(),d.Qb(),d.pc(9,Q,3,0,"ion-item",11),d.Qb(),d.pc(10,M,4,0,"ion-item-options",12),d.Qb()}if(2&i){const i=t.$implicit,e=d.bc();d.Bb(2),d.gc("ngIf",(null==i.gallery?null:i.gallery.length)>0),d.Bb(3),d.rc(i.name),d.Bb(2),d.rc(d.dc(8,5,i.price,"BRL")),d.Bb(2),d.gc("ngIf",!e.isMobile),d.Bb(1),d.gc("ngIf",e.isMobile)}}const B=function(i){return{webrowser:i}},P=[{path:"",component:(()=>{class i{constructor(i,t,e,n,s){this.alertService=i,this.router=t,this.productService=e,this.reviewService=n,this.popoverController=s,this.products=[]}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){this.GetPlataformInfo(),this.GetUser()})}ionViewWillLeave(){this.user=null,this.products=[],this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe()}GetPlataformInfo(){this.subscription1=f.a.GetAppInfo().subscribe(i=>{this.isMobile=i.appWidth<=f.a.maxMobileWidth,this.setDivWidth(.4*i.appWidth>f.a.maxMobileWidth/1.5?"40%":f.a.maxMobileWidth/1.5+"px")})}setDivWidth(i){document.body.style.setProperty("--maxWidth",i)}GetUser(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),this.subscription2=f.a.GetUserInfo().subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){return i?i.userType!=l.b.Admin?(yield this.router.navigate(["/"]),void(yield this.alertService.dismissLoading(this.loadingAlertID))):(this.user=i,void this.GetProducts()):(yield this.router.navigate(["/login"]),void(yield this.alertService.dismissLoading(this.loadingAlertID)))}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}GetProducts(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription3=(yield this.productService.GetAllVerified(!1)).subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){this.products=i,yield this.alertService.dismissLoading(this.loadingAlertID)}),i=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}Verify(i){return Object(c.b)(this,void 0,void 0,function*(){var t;yield this.alertService.confirmationAlert("Confirma\xe7\xe3o","Tem ceteza que deseja verificar esse produto?").then(i=>t=i),t&&(yield this.alertService.presentLoading().then(i=>this.loadingAlertID=i),yield this.productService.UpdateVerified(i.id,!i.verified).then(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.ShowToast("Produto modificado com sucesso!")})).catch(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.ShowToast("Ocorreu um erro, tente novamente mais tarde")})).finally(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID)})))})}ShowProduct(i){return Object(c.b)(this,void 0,void 0,function*(){var t=yield this.popoverController.create({component:g,mode:"md",componentProps:{product:i},animated:!0});yield t.present()})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(m.a),d.Mb(r.g),d.Mb(v.a),d.Mb(y.a),d.Mb(o.ab))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-admin-products"]],decls:8,vars:7,consts:[["title","ADM - Produtos","segment","0"],[3,"fullscreen"],["title","ADM - Produtos","segment","1"],[3,"ngClass"],["style","padding-bottom: .3rem;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"padding-bottom",".3rem"],[2,"text-align","center"],["lines","inset","button","",3,"click"],[3,"src","alt",4,"ngIf"],["class","ion-margin","button","","color","warning",3,"click",4,"ngIf"],["side","end",4,"ngIf"],[3,"src","alt"],["button","","color","warning",1,"ion-margin",3,"click"],["side","end"],["color","warning",3,"click"],["id","optionRight"]],template:function(i,t){1&i&&(d.Nb(0,"app-header",0),d.Rb(1,"ion-content",1),d.Nb(2,"app-header",2),d.Rb(3,"div",3),d.pc(4,R,2,0,"div",4),d.Rb(5,"ion-list"),d.pc(6,S,2,0,"div",5),d.pc(7,O,11,8,"ion-item-sliding",6),d.Qb(),d.Qb(),d.Qb()),2&i&&(d.Bb(1),d.gc("fullscreen",!0),d.Bb(2),d.gc("ngClass",d.jc(5,B,!t.isMobile)),d.Bb(1),d.gc("ngIf",!t.isMobile),d.Bb(2),d.gc("ngIf",!t.products||t.products&&1>t.products.length),d.Bb(1),d.gc("ngForOf",t.products))},directives:[w.a,o.m,n.i,n.k,o.y,n.j,o.w,o.s,o.x,o.v,o.u],pipes:[n.c],styles:["img[_ngcontent-%COMP%]{border-radius:10%;height:40px;width:40px;margin:0 7px 0 0}.webrowser[_ngcontent-%COMP%]{text-align:center;width:var(--maxWidth);margin:0 auto;padding-top:1rem}#optionRight[_ngcontent-%COMP%]{margin:0 .9rem 0 1rem}"]}),i})()}];let j=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({imports:[[r.k.forChild(P)],r.k]}),i})();var A=e("dagM");let G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({imports:[[n.b,s.a,o.T,j,A.a]]}),i})()}}]);