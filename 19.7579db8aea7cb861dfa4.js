(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"2MiI":function(e,i,t){"use strict";t.d(i,"a",function(){return h});var s=t("OGMK"),n=t("fXoL"),o=t("ofXK"),r=t("TEn/");function c(e,i){if(1&e&&(n.Rb(0,"ion-header",3),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-buttons",4),n.Nb(3,"ion-menu-button"),n.Qb(),n.Rb(4,"ion-title"),n.qc(5),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.bc();n.gc("translucent",!0),n.Bb(5),n.rc(e.title)}}function a(e,i){if(1&e&&(n.Rb(0,"ion-header",5),n.Rb(1,"ion-toolbar"),n.Rb(2,"ion-title",6),n.qc(3),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.bc();n.Bb(3),n.rc(e.title)}}function d(e,i){1&e&&n.Nb(0,"div",7)}let h=(()=>{class e{constructor(){this.title="",this.isMobile=!0}ngOnInit(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe(),this.subscription=s.a.GetAppInfo().subscribe(e=>{this.isMobile=e.appWidth<=s.a.maxMobileWidth})}ngOnDestroy(){this.subscription&&!this.subscription.closed&&this.subscription.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-header"]],inputs:{title:"title",segment:"segment"},decls:3,vars:3,consts:[[3,"translucent",4,"ngIf"],["collapse","condense",4,"ngIf"],["style","width: 100%; height: 65px;",4,"ngIf"],[3,"translucent"],["slot","start"],["collapse","condense"],["size","large"],[2,"width","100%","height","65px"]],template:function(e,i){1&e&&(n.pc(0,c,6,2,"ion-header",0),n.pc(1,a,4,1,"ion-header",1),n.pc(2,d,1,0,"div",2)),2&e&&(n.gc("ngIf",i.isMobile&&"0"==i.segment),n.Bb(1),n.gc("ngIf",i.isMobile&&"1"==i.segment),n.Bb(1),n.gc("ngIf",!i.isMobile&&"0"==i.segment))},directives:[o.k,r.o,r.P,r.f,r.y,r.O],styles:[""]}),e})()},dagM:function(e,i,t){"use strict";t.d(i,"a",function(){return a});var s=t("ofXK"),n=t("3Pt+"),o=t("tyNb"),r=t("TEn/"),c=t("fXoL");let a=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({imports:[[r.Q,s.b,n.a,o.k]]}),e})()},xFxd:function(e,i,t){"use strict";t.r(i),t.d(i,"PurchasePagePageModule",function(){return F});var s=t("ofXK"),n=t("3Pt+"),o=t("TEn/"),r=t("tyNb"),c=t("mrSG"),a=t("OGMK"),d=t("BTSn"),h=t("fcTE"),l=t("CbRh");class b{}class u{}var v=t("fXoL"),p=t("xHty"),g=t("Gdn9"),m=t("qfBg"),f=t("3LUQ"),w=t("4kQV"),y=t("lJxs"),S=t("I/3d");let R=(()=>{class e{constructor(e){this.fireDatabase=e,this.collection="Ratings"}Add(e){return Object(c.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).add({recommend:e.recommend,ratedUserId:e.ratedUserId,raterUserId:e.raterUserId,linkedPurchaseId:e.linkedPurchaseId,date:(new Date).getTime()})})}GetAllFromUser(e){return Object(c.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,i=>i.where("ratedUserId","==",e)).snapshotChanges().pipe(Object(y.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date)}))))})}GetRatingFromPurchase(e){return Object(c.b)(this,void 0,void 0,function*(){return this.fireDatabase.collection(this.collection,i=>i.where("linkedPurchaseId","==",e)).snapshotChanges().pipe(Object(y.a)(e=>e.map(e=>Object.assign(Object.assign({id:e.payload.doc.id},e.payload.doc.data()),{date:new Date(e.payload.doc.data().date)}))))})}Update(e,i){return Object(c.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).update({recommend:i})})}deleteRatingsFrom(e){return Object(c.b)(this,void 0,void 0,function*(){var i,t=(yield this.GetAllFromUser(e)).subscribe(e=>Object(c.b)(this,void 0,void 0,function*(){i=e;const s=this.fireDatabase.firestore.batch();i.forEach(e=>{var i=this.fireDatabase.firestore.collection(this.collection).doc(e.id);s.delete(i)}),yield s.commit(),t.unsubscribe()}))})}Delete(e){return Object(c.b)(this,void 0,void 0,function*(){return yield this.fireDatabase.collection(this.collection).doc(e).delete()})}}return e.\u0275fac=function(i){return new(i||e)(v.Vb(S.a))},e.\u0275prov=v.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=t("2MiI");function O(e,i){if(1&e&&(v.Rb(0,"ion-slide"),v.Nb(1,"ion-img",8),v.Qb()),2&e){const e=i.$implicit;v.Bb(1),v.gc("src",e)}}function Q(e,i){if(1&e&&(v.Rb(0,"ion-slides",6),v.pc(1,O,2,1,"ion-slide",7),v.Qb()),2&e){const e=v.bc();v.gc("options",e.slideOpts),v.Bb(1),v.gc("ngForOf",e.product.gallery)}}function D(e,i){if(1&e&&(v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Produto"),v.Qb(),v.Rb(3,"ion-text"),v.qc(4),v.Qb(),v.Qb()),2&e){const e=v.bc();v.Bb(4),v.rc(e.product.name)}}function A(e,i){if(1&e&&(v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Quantidade"),v.Qb(),v.Rb(3,"ion-text"),v.qc(4),v.Qb(),v.Qb()),2&e){const e=v.bc();v.Bb(4),v.rc(e.purchase.item.amount)}}function B(e,i){if(1&e&&(v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Status"),v.Qb(),v.Rb(3,"ion-text"),v.qc(4),v.Qb(),v.Qb()),2&e){const e=v.bc();v.Bb(4),v.rc(e.StateToString(e.purchase.state))}}function L(e,i){if(1&e&&(v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Efetuada"),v.Qb(),v.Rb(3,"ion-text"),v.qc(4),v.Qb(),v.Qb()),2&e){const e=v.bc();v.Bb(4),v.rc(e.purchase.date.toLocaleString())}}function M(e,i){if(1&e&&(v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Entregada"),v.Qb(),v.Rb(3,"ion-text"),v.qc(4),v.Qb(),v.Qb()),2&e){const e=v.bc();v.Bb(4),v.rc(e.purchase.finishDate.toLocaleString())}}function j(e,i){if(1&e&&(v.Pb(0),v.Rb(1,"ion-select-option",10),v.qc(2),v.Qb(),v.Ob()),2&e){const e=i.$implicit,t=v.bc(2);v.Bb(1),v.gc("value",e.value),v.Bb(1),v.rc(t.StateToString(e.value))}}function x(e,i){if(1&e){const e=v.Sb();v.Rb(0,"ion-item"),v.Rb(1,"ion-label"),v.qc(2,"Novo status"),v.Qb(),v.Rb(3,"ion-select",9),v.Zb("ngModelChange",function(i){return v.mc(e),v.bc().stateValue=i})("ngModelChange",function(i){return v.mc(e),v.bc().StateChange(i)}),v.pc(4,j,3,2,"ng-container",7),v.Qb(),v.Qb()}if(2&e){const e=v.bc();v.Bb(3),v.gc("ngModel",e.stateValue),v.Bb(1),v.gc("ngForOf",e.states)}}function P(e,i){if(1&e){const e=v.Sb();v.Rb(0,"ion-item"),v.Rb(1,"ion-segment",15),v.Zb("ionChange",function(i){return v.mc(e),v.bc(2).segmentChanged(i)}),v.Rb(2,"ion-segment-button",16),v.Nb(3,"ion-icon",17),v.Qb(),v.Rb(4,"ion-segment-button",18),v.Nb(5,"ion-icon",19),v.Qb(),v.Qb(),v.Qb()}}function C(e,i){if(1&e){const e=v.Sb();v.Rb(0,"ion-item"),v.Rb(1,"ion-segment",20),v.Zb("ionChange",function(i){return v.mc(e),v.bc(2).segmentChanged(i)}),v.Rb(2,"ion-segment-button",16),v.Nb(3,"ion-icon",17),v.Qb(),v.Rb(4,"ion-segment-button",18),v.Nb(5,"ion-icon",19),v.Qb(),v.Qb(),v.Qb()}if(2&e){const e=v.bc(2);v.Bb(1),v.hc("value",e.review.recommend)}}function G(e,i){if(1&e){const e=v.Sb();v.Pb(0),v.Rb(1,"ion-item"),v.Rb(2,"ion-label",11),v.qc(3,"Titulo"),v.Qb(),v.Rb(4,"ion-input",12),v.Zb("ngModelChange",function(i){return v.mc(e),v.bc().review.title=i}),v.Qb(),v.Qb(),v.Rb(5,"ion-item"),v.Rb(6,"ion-label",11),v.qc(7,"Texto"),v.Qb(),v.Rb(8,"ion-textarea",13),v.Zb("ngModelChange",function(i){return v.mc(e),v.bc().review.content=i}),v.Qb(),v.Qb(),v.pc(9,P,6,0,"ion-item",5),v.pc(10,C,6,1,"ion-item",5),v.Rb(11,"ion-button",14),v.Zb("click",function(){return v.mc(e),v.bc().SendReview()}),v.qc(12,"Enviar"),v.Qb(),v.Ob()}if(2&e){const e=v.bc();v.Bb(4),v.gc("ngModel",e.review.title),v.Bb(4),v.gc("ngModel",e.review.content),v.Bb(1),v.gc("ngIf",!e.reviewExists),v.Bb(1),v.gc("ngIf",e.reviewExists),v.Bb(1),v.gc("disabled",!e.review.content||!e.review.title||!e.review.recommend)}}function W(e,i){if(1&e){const e=v.Sb();v.Rb(0,"ion-button",23),v.Zb("click",function(){v.mc(e);const i=v.bc(2);return i.showChangeState=!i.showChangeState,i.scrollToBotton()}),v.qc(1,"Mudar status da venda"),v.Qb()}}function k(e,i){if(1&e){const e=v.Sb();v.Rb(0,"ion-button",23),v.Zb("click",function(){v.mc(e);const i=v.bc(2);return i.showReviewDiv=!i.showReviewDiv,i.scrollToBotton()}),v.qc(1),v.Qb()}if(2&e){const e=v.bc(2);v.Bb(1),v.rc(e.reviewExists?"Atualizar avalia\xe7\xe3o":"Avaliar compra")}}function q(e,i){if(1&e&&(v.Rb(0,"div"),v.Rb(1,"ion-button",21),v.qc(2),v.Qb(),v.pc(3,W,2,0,"ion-button",22),v.pc(4,k,2,1,"ion-button",22),v.Qb()),2&e){const e=v.bc();v.Bb(1),v.ic("routerLink","/chat/",e.purchase.id,""),v.Bb(1),v.sc("Conversar com o ",e.isSeller?"comprador":"vendedor",""),v.Bb(1),v.gc("ngIf",e.isSeller),v.Bb(1),v.gc("ngIf",!e.isSeller&&e.finished)}}const T=function(e){return{webrowser:e}},U=[{path:"",component:(()=>{class e{constructor(e,i,t,s,n,o,r,c){this.activatedRoute=e,this.purchaseService=i,this.productService=t,this.userService=s,this.alertService=n,this.reviewService=o,this.ratingService=r,this.router=c,this.title="Carregando",this.purchase=new h.b,this.product=new d.a,this.seller=new l.a,this.purchaseLoaded=!1,this.productLoaded=!1,this.sellerLoaded=!1,this.allLoaded=!1,this.showChangeState=!1,this.showReviewDiv=!1,this.states=[],this.review={title:void 0,content:void 0,recommend:void 0},this.slideOpts={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0},this.loading=!0,this.prevReview={title:void 0,content:void 0,recommend:void 0}}StateToString(e){return Object(h.d)(e)}ngOnInit(){}ionViewWillEnter(){return Object(c.b)(this,void 0,void 0,function*(){yield this.GetRequiredAttributes()})}ionViewWillLeave(){this.title="Carregando",this.purchase=new h.b,this.product=new d.a,this.seller=new l.a,this.purchaseLoaded=!1,this.productLoaded=!1,this.sellerLoaded=!1,this.allLoaded=!1,this.showChangeState=!1,this.showReviewDiv=!1,this.states=[],this.loading=!0,this.subscription1&&!this.subscription1.closed&&this.subscription1.unsubscribe(),this.subscription2&&!this.subscription2.closed&&this.subscription2.unsubscribe(),this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription4&&!this.subscription4.closed&&this.subscription4.unsubscribe(),this.subscription5&&!this.subscription5.closed&&this.subscription5.unsubscribe(),this.subscription6&&!this.subscription6.closed&&this.subscription6.unsubscribe(),this.subscription7&&!this.subscription7.closed&&this.subscription7.unsubscribe()}GetRequiredAttributes(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(e=>this.loadingAlertID=e),this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.id?(this.SetStates(),this.GetPlataformInfo(),yield this.getUserAndPurchase()):this.SendAway("/")})}SetStates(){for(var e in h.c)isNaN(Number(e))||this.states.push({value:Number(e)})}GetPlataformInfo(){this.subscription1=a.a.GetAppInfo().subscribe(e=>{this.isMobile=e.appWidth<=a.a.maxMobileWidth,this.setDivWidth(.4*e.appWidth>a.a.maxMobileWidth/1.5?"40%":a.a.maxMobileWidth/1.5+"px")})}setDivWidth(e){document.body.style.setProperty("--maxWidth",e)}getUserAndPurchase(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription2=a.a.GetUserInfo().subscribe(e=>Object(c.b)(this,void 0,void 0,function*(){e?(this.user=e,this.GetPurchase()):this.SendAway("/login")}),e=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Algo deu errado, tente novamente mais tarde.")}))})}GetPurchase(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription3&&!this.subscription3.closed&&this.subscription3.unsubscribe(),this.subscription3=(yield this.purchaseService.Get(this.id)).subscribe(e=>Object(c.b)(this,void 0,void 0,function*(){if(!e)return yield this.alertService.presentAlert("Erro","Compra n\xe3o encontrada."),void this.SendAway("/");if(this.purchase=e,this.purchase.id=this.id,this.purchase.date=new Date(e.date),this.purchase.finishDate=e.finishDate?new Date(e.finishDate):void 0,this.purchase.sellerId==this.user.id||this.purchase.userId==this.user.id){this.isSeller=this.purchase.sellerId==this.user.id,this.finished=this.purchase.state==h.c.Entregue,this.stateValue=this.purchase.state,this.purchaseLoaded=!0;var i={shouldWait1:!0,shouldWait2:!0};for(this.GetProduct(i),this.GetSeller(i);i.shouldWait1&&i.shouldWait2;)yield new Promise(e=>setTimeout(e,10));this.title="Status da compra",this.allLoaded=!0,this.loading&&(yield this.alertService.dismissLoading(this.loadingAlertID),this.loading=!1)}else this.SendAway("/")}),e=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar a compra, tente novamente mais tarde.")}))})}GetProduct(e){return Object(c.b)(this,void 0,void 0,function*(){this.subscription4&&!this.subscription4.closed&&this.subscription4.unsubscribe(),this.subscription4=(yield this.productService.Get(this.purchase.item.productID)).subscribe(i=>Object(c.b)(this,void 0,void 0,function*(){this.product=i,yield this.GetReview(),yield this.GetRating(),e.shouldWait1=!1,this.productLoaded=!0}),i=>Object(c.b)(this,void 0,void 0,function*(){e.shouldWait1=!1,yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar o produto, tente novamente mais tarde.")}))})}GetReview(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription6&&!this.subscription6.closed&&this.subscription6.unsubscribe(),this.subscription6=(yield this.reviewService.GetReviewFromPurchase(this.purchase.id)).subscribe(e=>{e.length<1?this.reviewExists=!1:(this.review.title=e[0].title,this.review.content=e[0].text,this.review.recommend=e[0].recommend?"true":"false",this.prevReview.title=e[0].title,this.prevReview.content=e[0].text,this.prevReview.recommend=e[0].recommend,this.reviewId=e[0].id,this.reviewExists=!0)},e=>{this.reviewExists=!1})})}GetRating(){return Object(c.b)(this,void 0,void 0,function*(){this.subscription7&&!this.subscription7.closed&&this.subscription7.unsubscribe(),this.subscription7=(yield this.ratingService.GetRatingFromPurchase(this.purchase.id)).subscribe(e=>{e.length<1||(this.ratingId=e[0].id)})})}GetSeller(e){return Object(c.b)(this,void 0,void 0,function*(){this.subscription5&&!this.subscription5.closed&&this.subscription5.unsubscribe(),this.subscription5=(yield this.userService.Get(this.purchase.sellerId)).subscribe(i=>{this.seller=i,e.shouldWait2=!1,this.sellerLoaded=!0},i=>Object(c.b)(this,void 0,void 0,function*(){e.shouldWait2=!1,yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.presentAlert("Ops","Ocorreu um erro ao carregar o produto, tente novamente mais tarde.")}))})}StateChange(e){return Object(c.b)(this,void 0,void 0,function*(){this.allLoaded&&(yield this.alertService.presentLoading().then(e=>this.loadingAlertID=e),yield this.purchaseService.updateState(this.purchase.id,this.stateValue).then(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Status foi modificado"),this.showChangeState=!this.showChangeState})).catch(()=>Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Ocorreu um erro ao modificar status")})))})}segmentChanged(e){this.review.recommend=e.detail.value}SendReview(){return Object(c.b)(this,void 0,void 0,function*(){yield this.alertService.presentLoading().then(e=>this.loadingAlertID=e),this.reviewExists?yield this.UpdateReview():yield this.SendNewReview()})}UpdateReview(){return Object(c.b)(this,void 0,void 0,function*(){var e,i={shouldWait1:!0,shouldWait2:!0},t=!1,s={wt1:void 0,wt2:void 0};for(yield this.reviewService.Update(this.reviewId,this.review.title,this.review.content,"true"==this.review.recommend).then(()=>s.wt1=!0).catch(()=>s.wt1=!1).finally(()=>i.shouldWait1=!1),yield this.ratingService.Update(this.ratingId,"true"==this.review.recommend).then(()=>s.wt2=!0).catch(()=>s.wt2=!1).finally(()=>i.shouldWait2=!1);i.shouldWait1&&i.shouldWait2;)yield new Promise(e=>setTimeout(e,10));for(e=t=!s.wt1||!s.wt2,!s.wt1&&s.wt2&&(yield this.ratingService.Update(this.ratingId,this.prevReview.recommend).finally(()=>t=!1)),!s.wt2&&s.wt1&&(yield this.reviewService.Update(this.reviewId,this.prevReview.title,this.prevReview.content,this.prevReview.recommend).finally(()=>t=!1)),s.wt2||s.wt1||(yield this.ratingService.Update(this.ratingId,this.prevReview.recommend),yield this.reviewService.Update(this.reviewId,this.prevReview.title,this.prevReview.content,this.prevReview.recommend),t=!1);t;)yield new Promise(e=>setTimeout(e,10));if(e)return yield this.alertService.dismissLoading(this.loadingAlertID),void(yield this.alertService.presentAlert("Ocorreu um erro.","Avalia\xe7\xe3o n\xe3o foi atualizada, tente novamente mais tarde."));yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Avalia\xe7\xe3o foi atualizada"),this.showReviewDiv=!this.showReviewDiv})}SendNewReview(){return Object(c.b)(this,void 0,void 0,function*(){var e,i,t,s=this.FillRating(),n=this.FillReview(),o={shouldWait1:!0,shouldWait2:!0},r=!1,c={wt1:void 0,wt2:void 0};for(yield this.reviewService.Add(n).then(e=>{i=e.id,c.wt1=!0}).catch(()=>c.wt1=!1).finally(()=>o.shouldWait1=!1),yield this.ratingService.Add(s).then(e=>{t=e.id,c.wt2=!0}).catch(()=>c.wt2=!1).finally(()=>o.shouldWait2=!1);o.shouldWait1&&o.shouldWait2;)yield new Promise(e=>setTimeout(e,10));for(e=r=!c.wt1||!c.wt2,!c.wt1&&c.wt2&&(yield this.ratingService.Delete(t).finally(()=>r=!1)),!c.wt2&&c.wt1&&(yield this.reviewService.Delete(i).finally(()=>r=!1)),c.wt2||c.wt1||(yield this.ratingService.Delete(t),yield this.reviewService.Delete(i),r=!1);r;)yield new Promise(e=>setTimeout(e,10));if(e)return yield this.alertService.dismissLoading(this.loadingAlertID),void(yield this.alertService.presentAlert("Ocorreu um erro.","Avalia\xe7\xe3o n\xe3o foi enviada, tente novamente mais tarde."));yield this.alertService.dismissLoading(this.loadingAlertID),yield this.alertService.ShowToast("Avalia\xe7\xe3o foi enviada"),this.showReviewDiv=!this.showReviewDiv})}FillRating(){var e=new u;return e.linkedPurchaseId=this.purchase.id,e.ratedUserId=this.purchase.sellerId,e.raterUserId=this.purchase.userId,e.recommend="true"==this.review.recommend,e}FillReview(){var e=new b;return e.userID=this.purchase.userId,e.productID=this.purchase.item.productID,e.linkedPurchaseId=this.purchase.id,e.title=this.review.title,e.text=this.review.content,e.recommend="true"==this.review.recommend,e}SendAway(e){return Object(c.b)(this,void 0,void 0,function*(){yield this.router.navigate([e]),yield this.alertService.dismissLoading(this.loadingAlertID)})}scrollToBotton(){setTimeout(()=>{this.content.scrollToBottom(500)},100)}}return e.\u0275fac=function(i){return new(i||e)(v.Mb(r.a),v.Mb(p.a),v.Mb(g.a),v.Mb(m.a),v.Mb(f.a),v.Mb(w.a),v.Mb(R),v.Mb(r.g))},e.\u0275cmp=v.Gb({type:e,selectors:[["app-purchase-page"]],viewQuery:function(e,i){if(1&e&&v.uc(o.m,1),2&e){let e;v.kc(e=v.ac())&&(i.content=e.first)}},decls:14,vars:15,consts:[["segment","0",3,"title"],[3,"fullscreen"],["segment","1",3,"title"],[3,"ngClass"],["pager","true",3,"options",4,"ngIf"],[4,"ngIf"],["pager","true",3,"options"],[4,"ngFor","ngForOf"],[3,"src"],["interface","popover","placeholder","Selecione",3,"ngModel","ngModelChange"],[3,"value"],["position","floating"],["type","text","name","review-title",3,"ngModel","ngModelChange"],["name","review-content","required","","autoGrow","true",3,"ngModel","ngModelChange"],["type","button","color","primary","expand","block",1,"ion-margin",3,"disabled","click"],[3,"ionChange"],["value","true"],["name","thumbs-up-sharp"],["value","false"],["name","thumbs-down-sharp"],[3,"value","ionChange"],["type","button","color","primary","expand","block",1,"ion-margin",3,"routerLink"],["type","button","color","primary","expand","block","class","ion-margin",3,"click",4,"ngIf"],["type","button","color","primary","expand","block",1,"ion-margin",3,"click"]],template:function(e,i){1&e&&(v.Nb(0,"app-header",0),v.Rb(1,"ion-content",1),v.Nb(2,"app-header",2),v.Rb(3,"div",3),v.Rb(4,"ion-list"),v.pc(5,Q,2,2,"ion-slides",4),v.pc(6,D,5,1,"ion-item",5),v.pc(7,A,5,1,"ion-item",5),v.pc(8,B,5,1,"ion-item",5),v.pc(9,L,5,1,"ion-item",5),v.pc(10,M,5,1,"ion-item",5),v.Qb(),v.pc(11,x,5,2,"ion-item",5),v.pc(12,G,13,5,"ng-container",5),v.pc(13,q,5,4,"div",5),v.Qb(),v.Qb()),2&e&&(v.gc("title",i.title),v.Bb(1),v.gc("fullscreen",!0),v.Bb(1),v.gc("title",i.title),v.Bb(1),v.gc("ngClass",v.jc(13,T,!i.isMobile)),v.Bb(2),v.gc("ngIf",i.productLoaded),v.Bb(1),v.gc("ngIf",i.productLoaded),v.Bb(1),v.gc("ngIf",i.purchaseLoaded),v.Bb(1),v.gc("ngIf",i.purchaseLoaded),v.Bb(1),v.gc("ngIf",i.purchaseLoaded),v.Bb(1),v.gc("ngIf",i.purchaseLoaded&&i.purchase.finishDate),v.Bb(1),v.gc("ngIf",i.isSeller&&i.showChangeState),v.Bb(1),v.gc("ngIf",i.showReviewDiv&&i.finished),v.Bb(1),v.gc("ngIf",i.allLoaded))},directives:[I.a,o.m,s.i,o.v,s.k,o.K,s.j,o.J,o.q,o.s,o.u,o.M,o.H,o.Z,n.f,n.i,o.I,o.r,o.ab,o.N,n.k,o.e,o.F,o.G,o.p,o.Y,r.h],styles:["ion-img[_ngcontent-%COMP%]{height:200px;margin:5px auto}.webrowser[_ngcontent-%COMP%]{width:var(--maxWidth);margin:0 auto;padding-top:1rem}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=v.Kb({type:e}),e.\u0275inj=v.Jb({imports:[[r.k.forChild(U)],r.k]}),e})();var E=t("dagM");let F=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=v.Kb({type:e}),e.\u0275inj=v.Jb({imports:[[s.b,n.a,o.Q,N,E.a]]}),e})()}}]);